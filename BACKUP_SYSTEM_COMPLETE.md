# üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤ CareBot - –ü–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 4 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞  
**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞:** –ü–æ—Ç–µ—Ä—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

## üéØ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 03:30** - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ SQL –¥–∞–º–ø–∞
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –≤ 02:00** (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ) - –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø —Å –æ—á–∏—Å—Ç–∫–æ–π –ª–æ–≥–æ–≤
- **–ï–∂–µ–º–µ—Å—è—á–Ω–æ –≤ 01:00** - –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤

### ‚úÖ –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—ç–∫–∞–ø–∞–º–∏
```powershell
# –ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PowerShell
.\scripts\manage-carebot.ps1 backup   # –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
.\scripts\manage-carebot.ps1 restore  # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
.\scripts\manage-carebot.ps1 status   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
.\scripts\manage-carebot.ps1 logs     # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
.\scripts\manage-carebot.ps1 restart  # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
```

### ‚úÖ Bash —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
# –ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Ubuntu
cd /home/ubuntu/carebot
./scripts/backup-database.sh          # –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
./scripts/restore-database.sh         # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
./scripts/setup-backup-cron.sh        # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
```

### ‚úÖ –ü–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **SQL –¥–∞–º–ø—ã:** 30 –¥–Ω–µ–π (–ª–µ–≥–∫–∏–µ, —É–¥–æ–±–Ω—ã–µ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞)
- **–ë–∏–Ω–∞—Ä–Ω—ã–µ –∫–æ–ø–∏–∏:** 7 –¥–Ω–µ–π (–±—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è  
- **–ë—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–π –±–∞–∑—ã** –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/home/ubuntu/carebot/
‚îú‚îÄ‚îÄ backups/
‚îÇ   ‚îú‚îÄ‚îÄ carebot_backup_YYYYMMDD_HHMMSS.sql  # SQL –¥–∞–º–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ carebot_binary_YYYYMMDD_HHMMSS.db   # –ë–∏–Ω–∞—Ä–Ω—ã–µ –∫–æ–ø–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ latest_backup.sql                   # –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π SQL
‚îÇ   ‚îú‚îÄ‚îÄ latest_backup.db                    # –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π DB
‚îÇ   ‚îî‚îÄ‚îÄ backup.log                          # –õ–æ–≥ –æ–ø–µ—Ä–∞—Ü–∏–π
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ backup-database.sh          # –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
    ‚îú‚îÄ‚îÄ restore-database.sh         # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    ‚îú‚îÄ‚îÄ setup-backup-cron.sh        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
    ‚îî‚îÄ‚îÄ manage-carebot.ps1           # PowerShell —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```

## üîß –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
```powershell
# –° Windows –º–∞—à–∏–Ω—ã
.\scripts\manage-carebot.ps1 backup
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø—Ä–æ–±–ª–µ–º
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Ubuntu
cd /home/ubuntu/carebot
./scripts/restore-database.sh --force  # –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
```bash
./scripts/restore-database.sh carebot_backup_20241104_120000.sql
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±—ç–∫–∞–ø–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ cron –∑–∞–¥–∞—á–∏
crontab -l | grep CareBot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤
tail -f /tmp/carebot_backup.log
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—ç–∫–∞–ø–æ–≤
```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—ç–∫–∞–ø–æ–≤
ls -la /home/ubuntu/carebot/backups/

# –†–∞–∑–º–µ—Ä—ã –±—ç–∫–∞–ø–æ–≤
du -h /home/ubuntu/carebot/backups/*
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:** –í—ã–ø–æ–ª–Ω–∏—Ç—å `./scripts/setup-backup-cron.sh` –æ–¥–∏–Ω —Ä–∞–∑
2. **–ü—Ä–∏ –¥–µ–ø–ª–æ–µ:** –ë—ç–∫–∞–ø —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
3. **–ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏:** –¢–µ–∫—É—â–∞—è –±–∞–∑–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `before_restore_*`
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏:** –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ë–æ–ª—å—à–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ—Ç–µ—Ä—è–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö!**  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã**  
‚úÖ **–ü—Ä–æ—Å—Ç–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π**  
‚úÖ **–ó–∞—â–∏—Ç–∞ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ**  
‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**  

---

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üöÄ